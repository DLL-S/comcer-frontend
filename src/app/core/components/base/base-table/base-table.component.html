<p-table #tabelaDados [value]="(dados$ | async) || []" [lazy]="lazyLoad" (onLazyLoad)="carregarDados($event)"
   [paginator]="paginacao" [totalRecords]="7" [rows]="qtdeLinhas" [rowHover]="destacarLinha" dataKey="{{ dadoChave }}"
   [globalFilterFields]="camposDoFiltro" styleClass="p-datatable-sm" responsiveLayout="scroll">

   <ng-template pTemplate="caption">
      <div class="caption-container">
         <div class="caption-box">
            <button pButton *ngIf="exibirBotaoNovo" class="spacer" icon="pi pi-plus"
               (click)="dispararFormDeEdicao(null)"></button>
            <button pButton *ngIf="exibirBotaoRecarregar" class="spacer"
               [icon]="!(carregando$ | async) || false ? 'pi pi-refresh' : 'pi pi-refresh pi-spinner'"
               (click)="dispararRecarregamento()" [disabled]="(carregando$ | async) || false"></button>
            <span class="p-input-icon-left spacer">
               <i class="pi pi-search"></i>
               <input pInputText type="text" (keyup)="dispararPesquisa($any($event.target).value)"
                  placeholder="Pesquisar..." />
            </span>
         </div>
      </div>
   </ng-template>

   <ng-template pTemplate="header">
      <tr>
         <th *ngFor="let coluna of colunas?.colunas" pSortableColumn="{{coluna.ordenavel ? coluna.campo : ''}}">
            <p-sortIcon *ngIf="coluna.ordenavel" [field]="coluna.campo"></p-sortIcon> {{ coluna.descricao }}
         </th>
         <th *ngIf="colunas?.exibirAcoes" class="acoes">
            Ações
         </th>
      </tr>
   </ng-template>

   <ng-template pTemplate="body" let-objeto>
      <tr>
         <td *ngFor="let coluna of colunas?.colunas">
            {{objeto[coluna.campo]}}
         </td>
         <td *ngIf="colunas?.exibirAcoes" class="acoes">
            <button pButton pRipple type="button" icon="pi pi-pencil" class="p-button-rounded p-button-info spacer"
               (click)="dispararFormDeEdicao(objeto)"></button>
            <button *ngIf="objeto.situacao === 'Ativo'" pButton pRipple type="button" icon="pi pi-times"
               class="p-button-rounded p-button-danger spacer" (click)="dispararInativacao(objeto.id)"></button>
         </td>
      </tr>
   </ng-template>

</p-table>
